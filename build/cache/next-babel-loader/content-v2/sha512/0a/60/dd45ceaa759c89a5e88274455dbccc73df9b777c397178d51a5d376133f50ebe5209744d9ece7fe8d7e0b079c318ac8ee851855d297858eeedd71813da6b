{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Skyslit\\\\Web Projects\\\\Freelance\\\\cheffy\\\\src\\\\components\\\\Layouts\\\\chef\\\\ProtectedChef.jsx\";\nimport React from 'react';\nimport { Skeleton } from 'antd';\nimport Router from 'next/router';\nimport { useSession } from 'next-auth/client'; // import { getSession } from \"next-auth/client\";\n// import redirect from \"./redirect\";\n// export default function (props) {\n//   const { Component, pageProps } = props;\n//   console.log(\"Component\", Component);\n//   console.log(\"pageProps\", pageProps);\n//   return <Component />;\n// }\n// export async function getServerSideProps(ctx) {\n//   const session = await getSession(ctx);\n//   console.log(\"getServerSideProps session\", session);\n//   if (session) {\n//     return redirect(ctx, \"/\");\n//   }\n//   return {\n//     props: { session },\n//   };\n// }\n\nconst ProtectedChef = WrappedComponent => props => {\n  const [session, loading] = useSession(); // console.log(\"ProtectedChef loading\", loading);\n  // console.log(\"ProtectedChef session\", session);\n\n  if (loading) return /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 22\n  }, this);\n\n  if (!(session && session.role == 'chef')) {\n    Router.push('chef/login');\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Access Denied\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(WrappedComponent, {\n    session: session\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\nexport default ProtectedChef;","map":{"version":3,"sources":["C:/Users/user/Desktop/Skyslit/Web Projects/Freelance/cheffy/src/components/Layouts/chef/ProtectedChef.jsx"],"names":["React","Skeleton","Router","useSession","ProtectedChef","WrappedComponent","props","session","loading","role","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,aAAa,GAAIC,gBAAD,IAAuBC,KAAD,IAAW;AACtD,QAAM,CAACC,OAAD,EAAUC,OAAV,IAAqBL,UAAU,EAArC,CADsD,CAEtD;AACA;;AACA,MAAIK,OAAJ,EAAa,oBAAO,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,UAAP;;AACb,MAAI,EAAED,OAAO,IAAIA,OAAO,CAACE,IAAR,IAAgB,MAA7B,CAAJ,EAA0C;AACzCP,IAAAA,MAAM,CAACQ,IAAP,CAAY,YAAZ;AACA,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACA;;AACD,sBAAO,QAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEH;AAA3B;AAAA;AAAA;AAAA;AAAA,UAAP;AACA,CAVD;;AAYA,eAAeH,aAAf","sourcesContent":["import React from 'react';\r\nimport { Skeleton } from 'antd';\r\nimport Router from 'next/router';\r\nimport { useSession } from 'next-auth/client';\r\n// import { getSession } from \"next-auth/client\";\r\n// import redirect from \"./redirect\";\r\n\r\n// export default function (props) {\r\n//   const { Component, pageProps } = props;\r\n//   console.log(\"Component\", Component);\r\n//   console.log(\"pageProps\", pageProps);\r\n//   return <Component />;\r\n// }\r\n\r\n// export async function getServerSideProps(ctx) {\r\n//   const session = await getSession(ctx);\r\n//   console.log(\"getServerSideProps session\", session);\r\n//   if (session) {\r\n//     return redirect(ctx, \"/\");\r\n//   }\r\n//   return {\r\n//     props: { session },\r\n//   };\r\n// }\r\nconst ProtectedChef = (WrappedComponent) => (props) => {\r\n\tconst [session, loading] = useSession();\r\n\t// console.log(\"ProtectedChef loading\", loading);\r\n\t// console.log(\"ProtectedChef session\", session);\r\n\tif (loading) return <Skeleton />;\r\n\tif (!(session && session.role == 'chef')) {\r\n\t\tRouter.push('chef/login');\r\n\t\treturn <p>Access Denied</p>;\r\n\t}\r\n\treturn <WrappedComponent session={session} />;\r\n};\r\n\r\nexport default ProtectedChef;\r\n"]},"metadata":{},"sourceType":"module"}